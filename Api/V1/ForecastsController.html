<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Api::V1::ForecastsController
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Api::V1::ForecastsController";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Api.html" title="Api (module)">Api</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../V1.html" title="Api::V1 (module)">V1</a></span></span>
     &raquo; 
    <span class="title">ForecastsController</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Api::V1::ForecastsController
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../../ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActionController::Base</li>
          
            <li class="next"><span class='object_link'><a href="../../ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></li>
          
            <li class="next">Api::V1::ForecastsController</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/controllers/api/v1/forecasts_controller.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The ForecastsController is responsible for handling API requests related to weather forecasts. It provides an endpoint to search for weather forecasts based on a given address or ZIP code, returning forecast data such as temperature and weather conditions.</p>

<p>This controller uses AddressSearch to convert an address or ZIP code into latitude and longitude, which are then used by ForecastSearch to fetch the actual forecast data. The controller also manages caching of forecast data and ensures that the response headers are appropriately set for caching.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>GET /forecasts/search</p>
</div></p>
      
      <pre class="example code"><code># Request format:
{
  &quot;forecast&quot;: {
    &quot;address&quot;: &quot;123 Main St, Anytown, USA 12345&quot;,
  }
}

# Response format:
{
  &quot;data&quot;:
    {
      &quot;type&quot;:&quot;forecast&quot;,
      &quot;id&quot;:&quot;12345&quot;,
      &quot;attributes&quot;:{
        &quot;current_temperature&quot;:&quot;45.0&quot;,
        &quot;day_ahead_high&quot;:&quot;53.0&quot;,
        &quot;day_ahead_low&quot;:&quot;29.0&quot;
      },
      &quot;links&quot;:{
        &quot;self&quot;:&quot;http://localhost:3000/api/v1/forecasts/search.json?forecast%5Bzip_code%5D=12345&quot;}}}

# Headers:
cache-control: max-age=1298, public # time to live in seconds, 1800 indicates a fresh response
date: Mon, 20 Nov 2023 00:38:15 +0000 # date-time of response</code></pre>
    
  </div>


</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search-instance_method" title="#search (instance method)">#<strong>search</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GET /forecasts/search GET /forecasts/search.json.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="search-instance_method">
  
    #<strong>search</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GET /forecasts/search GET /forecasts/search.json</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/api/v1/forecasts_controller.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_search'>search</span>
  <span class='ivar'>@forecast</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../ForecastSearch.html" title="ForecastSearch (class)">ForecastSearch</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../ForecastSearch.html#initialize-instance_method" title="ForecastSearch#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>latitude:</span> <span class='ivar'>@latitude</span><span class='comma'>,</span> <span class='label'>longitude:</span> <span class='ivar'>@longitude</span><span class='comma'>,</span> <span class='label'>zip_code:</span> <span class='ivar'>@zip_code</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_perform'><span class='object_link'><a href="../../ForecastSearch.html#perform-instance_method" title="ForecastSearch#perform (method)">perform</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Nov 20 00:41:45 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.2.2).
</div>

    </div>
  </body>
</html>